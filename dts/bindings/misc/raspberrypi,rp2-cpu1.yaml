# Copyright (c) 2024 Nordic Semiconductor ASA
# Copyright (c) 2025 Dmitrii Sharshakov <d3dx12.xx@gmail.com>
# SPDX-License-Identifier: Apache-2.0

compatible: "raspberrypi,rp2-cpu1"

description: |
  Secondary CPU launcher for Raspberry Pi RP2 SoCs.

  RP2040 and RP2350 SoCs have a secondary CPU (CPU1) that can be used
  for launching AMP applications. This driver can load the CPU1 image
  from a specified memory area or partition and start the CPU1 execution.

include: [base.yaml]

properties:
  execution-memory:
    type: phandle
    description: |
      Memory area from which CPU1 will execute its core.
      If not specified, the secondary CPU will not be started,
      for example when the application is built for CPU1.
      Please only set this property in the DT for CPU0.

  image-source:
    type: phandle
    description: |
      Memory area or partition from which the CPU1 code will be loaded.
      Only specify this property if you want to run CPU1 not from the
      memory its image is stored in, for example when the CPU0
      needs RW access to flash. When not specified, the CPU1
      will just be started from the executeion-memory.

  memory-region:
    type: phandle
    description: |
      Optional: on CPU0, pass the memory region CPU1 must execute in.
      Used to validate that CPU1 stack is within the allowed memory region.
      Only used if CONFIG_IPM_LOG_LEVEL is debug or more verbose.
